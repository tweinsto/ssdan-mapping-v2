<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<style>body{background-color:white;}</style>

  <meta charset="UTF-8"/>
  <title>Race/Ethnicity in State 23</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
        body {
          font-family: sans-serif;
          text-align: center;
          margin: 2rem;
        }
        canvas {
          max-width: 500px;
          margin: 1rem auto;
        }
        select {
          font-size: 1rem;
          padding: 0.4rem;
        }
      </style>
</head>
<html>
  <body>
    <h2>Race &amp; Ethnicity Distribution</h2>
    <label>Select County:</label>
    <select id="countySelect"><option value="Statewide">Statewide</option>
<option value="Androscoggin County, Maine">Androscoggin County, Maine</option>
<option value="Aroostook County, Maine">Aroostook County, Maine</option>
<option value="Cumberland County, Maine">Cumberland County, Maine</option>
<option value="Franklin County, Maine">Franklin County, Maine</option>
<option value="Hancock County, Maine">Hancock County, Maine</option>
<option value="Kennebec County, Maine">Kennebec County, Maine</option>
<option value="Knox County, Maine">Knox County, Maine</option>
<option value="Lincoln County, Maine">Lincoln County, Maine</option>
<option value="Oxford County, Maine">Oxford County, Maine</option>
<option value="Penobscot County, Maine">Penobscot County, Maine</option>
<option value="Piscataquis County, Maine">Piscataquis County, Maine</option>
<option value="Sagadahoc County, Maine">Sagadahoc County, Maine</option>
<option value="Somerset County, Maine">Somerset County, Maine</option>
<option value="Waldo County, Maine">Waldo County, Maine</option>
<option value="Washington County, Maine">Washington County, Maine</option>
<option value="York County, Maine">York County, Maine</option></select>
    <canvas id="pieChart" width="400" height="400"></canvas>
    <script>const raceData = {"Statewide":{"American Indian / Alaska Native":0.38,"Asian":1.1,"Black or African American":1.63,"Hispanic":2.08,"Pacific Islander":0.02,"Two or More Races":3.82,"White (non-Hispanic)":90.64},"Androscoggin County, Maine":{"American Indian / Alaska Native":0.02,"Asian":1.15,"Black or African American":4.61,"Hispanic":2.11,"Pacific Islander":0.01,"Two or More Races":3.74,"White (non-Hispanic)":88.21},"Aroostook County, Maine":{"American Indian / Alaska Native":1.32,"Asian":0.39,"Black or African American":0.72,"Hispanic":1.58,"Pacific Islander":0.08,"Two or More Races":2.94,"White (non-Hispanic)":92.87},"Cumberland County, Maine":{"American Indian / Alaska Native":0.14,"Asian":2.11,"Black or African American":3.23,"Hispanic":2.71,"Pacific Islander":0.02,"Two or More Races":4.71,"White (non-Hispanic)":86.7},"Franklin County, Maine":{"American Indian / Alaska Native":0.18,"Asian":0.53,"Black or African American":0.61,"Hispanic":1.56,"Pacific Islander":0.01,"Two or More Races":2.68,"White (non-Hispanic)":94},"Hancock County, Maine":{"American Indian / Alaska Native":0.41,"Asian":0.9,"Black or African American":0.85,"Hispanic":1.79,"Pacific Islander":0,"Two or More Races":2.51,"White (non-Hispanic)":93.17},"Kennebec County, Maine":{"American Indian / Alaska Native":0.18,"Asian":0.79,"Black or African American":0.8,"Hispanic":2.16,"Pacific Islander":0,"Two or More Races":3.09,"White (non-Hispanic)":92.72},"Knox County, Maine":{"American Indian / Alaska Native":0.25,"Asian":0.35,"Black or African American":0.36,"Hispanic":1.8,"Pacific Islander":0.02,"Two or More Races":3.08,"White (non-Hispanic)":94.06},"Lincoln County, Maine":{"American Indian / Alaska Native":0.28,"Asian":0.65,"Black or African American":0.49,"Hispanic":1.3,"Pacific Islander":0.01,"Two or More Races":3.9,"White (non-Hispanic)":93.31},"Oxford County, Maine":{"American Indian / Alaska Native":0.18,"Asian":0.53,"Black or African American":0.3,"Hispanic":1.61,"Pacific Islander":0,"Two or More Races":4.21,"White (non-Hispanic)":92.79},"Penobscot County, Maine":{"American Indian / Alaska Native":0.81,"Asian":1.08,"Black or African American":0.97,"Hispanic":1.93,"Pacific Islander":0.05,"Two or More Races":3.16,"White (non-Hispanic)":91.43},"Piscataquis County, Maine":{"American Indian / Alaska Native":0.2,"Asian":0.87,"Black or African American":0.76,"Hispanic":1.78,"Pacific Islander":0,"Two or More Races":3.21,"White (non-Hispanic)":92.99},"Sagadahoc County, Maine":{"American Indian / Alaska Native":0.06,"Asian":0.69,"Black or African American":0.54,"Hispanic":1.98,"Pacific Islander":0,"Two or More Races":3.93,"White (non-Hispanic)":92.42},"Somerset County, Maine":{"American Indian / Alaska Native":0.13,"Asian":0.35,"Black or African American":0.47,"Hispanic":1.45,"Pacific Islander":0.02,"Two or More Races":2.99,"White (non-Hispanic)":94.47},"Waldo County, Maine":{"American Indian / Alaska Native":0.16,"Asian":0.42,"Black or African American":0.47,"Hispanic":1.52,"Pacific Islander":0,"Two or More Races":3.63,"White (non-Hispanic)":92.98},"Washington County, Maine":{"American Indian / Alaska Native":4.55,"Asian":0.32,"Black or African American":0.67,"Hispanic":2.35,"Pacific Islander":0.06,"Two or More Races":3.83,"White (non-Hispanic)":87.99},"York County, Maine":{"American Indian / Alaska Native":0.12,"Asian":1.05,"Black or African American":1.07,"Hispanic":2.08,"Pacific Islander":0.01,"Two or More Races":4.54,"White (non-Hispanic)":90.76}};
const raceLabels = ["American Indian / Alaska Native","Asian","Black or African American","Hispanic","Pacific Islander","Two or More Races","White (non-Hispanic)"];

const ctx = document.getElementById('pieChart').getContext('2d');
let chart;

function renderChart(values) {
  if (chart) chart.destroy();
  chart = new Chart(ctx, {
    type: 'pie',
    data: {
      labels: raceLabels,
      datasets: [{
        data: values,
        backgroundColor: ['#f94144','#f3722c','#f9c74f','#90be6d','#43aa8b','#577590','#d0cde1']
      }]
    },
    options: {
      responsive: true,
      plugins: {
        legend: {
          position: 'bottom',
          labels: {
            font: {
              size: 14
            },
            boxWidth: 20,
            padding: 15,
            usePointStyle: true,
            pointStyle: 'rectRounded'
          }
        },
        tooltip: {
          callbacks: {
            label: function(context) {
              return context.label + ': ' + context.parsed + '%';
            }
          }
        }
      }
    }
  });
}

document.getElementById('countySelect').addEventListener('change', function() {
  const selected = this.value;
  renderChart(Object.values(raceData[selected]));
});

renderChart(Object.values(raceData['Statewide']));</script>
  </body>
</html>
</html>
