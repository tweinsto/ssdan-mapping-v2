<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<style>body{background-color:white;}</style>

  <meta charset="UTF-8"/>
  <title>Race/Ethnicity in State 04</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
        body {
          font-family: sans-serif;
          text-align: center;
          margin: 2rem;
        }
        canvas {
          max-width: 500px;
          margin: 1rem auto;
        }
        select {
          font-size: 1rem;
          padding: 0.4rem;
        }
      </style>
</head>
<html>
  <body>
    <h2>Race &amp; Ethnicity Distribution</h2>
    <label>Select County:</label>
    <select id="countySelect"><option value="Statewide">Statewide</option>
<option value="Apache County, Arizona">Apache County, Arizona</option>
<option value="Cochise County, Arizona">Cochise County, Arizona</option>
<option value="Coconino County, Arizona">Coconino County, Arizona</option>
<option value="Gila County, Arizona">Gila County, Arizona</option>
<option value="Graham County, Arizona">Graham County, Arizona</option>
<option value="Greenlee County, Arizona">Greenlee County, Arizona</option>
<option value="La Paz County, Arizona">La Paz County, Arizona</option>
<option value="Maricopa County, Arizona">Maricopa County, Arizona</option>
<option value="Mohave County, Arizona">Mohave County, Arizona</option>
<option value="Navajo County, Arizona">Navajo County, Arizona</option>
<option value="Pima County, Arizona">Pima County, Arizona</option>
<option value="Pinal County, Arizona">Pinal County, Arizona</option>
<option value="Santa Cruz County, Arizona">Santa Cruz County, Arizona</option>
<option value="Yavapai County, Arizona">Yavapai County, Arizona</option>
<option value="Yuma County, Arizona">Yuma County, Arizona</option></select>
    <canvas id="pieChart" width="400" height="400"></canvas>
    <script>const raceData = {"Statewide":{"American Indian / Alaska Native":3.4,"Asian":3.34,"Black or African American":4.39,"Hispanic":31.04,"Pacific Islander":0.18,"Two or More Races":3.9,"White (non-Hispanic)":53.37},"Apache County, Arizona":{"American Indian / Alaska Native":71.43,"Asian":0.6,"Black or African American":0.95,"Hispanic":6.23,"Pacific Islander":0.11,"Two or More Races":2.02,"White (non-Hispanic)":18.59},"Cochise County, Arizona":{"American Indian / Alaska Native":0.48,"Asian":1.89,"Black or African American":3.23,"Hispanic":34.34,"Pacific Islander":0.24,"Two or More Races":4.8,"White (non-Hispanic)":54.57},"Coconino County, Arizona":{"American Indian / Alaska Native":24.25,"Asian":1.7,"Black or African American":1.47,"Hispanic":15.23,"Pacific Islander":0.1,"Two or More Races":4.33,"White (non-Hispanic)":52.46},"Gila County, Arizona":{"American Indian / Alaska Native":12.7,"Asian":0.77,"Black or African American":0.59,"Hispanic":17.77,"Pacific Islander":0.06,"Two or More Races":6,"White (non-Hispanic)":62},"Graham County, Arizona":{"American Indian / Alaska Native":10.81,"Asian":0.56,"Black or African American":1.28,"Hispanic":30.29,"Pacific Islander":0.06,"Two or More Races":3.65,"White (non-Hispanic)":53.05},"Greenlee County, Arizona":{"American Indian / Alaska Native":3.59,"Asian":0.68,"Black or African American":1.47,"Hispanic":46.51,"Pacific Islander":0,"Two or More Races":1.79,"White (non-Hispanic)":45.92},"La Paz County, Arizona":{"American Indian / Alaska Native":12.09,"Asian":1.13,"Black or African American":0.3,"Hispanic":25.47,"Pacific Islander":0.01,"Two or More Races":3.08,"White (non-Hispanic)":57.82},"Maricopa County, Arizona":{"American Indian / Alaska Native":1.34,"Asian":4.28,"Black or African American":5.49,"Hispanic":30.89,"Pacific Islander":0.19,"Two or More Races":4.02,"White (non-Hispanic)":53.37},"Mohave County, Arizona":{"American Indian / Alaska Native":1.32,"Asian":1.12,"Black or African American":1.11,"Hispanic":16.69,"Pacific Islander":0.17,"Two or More Races":3.72,"White (non-Hispanic)":75.6},"Navajo County, Arizona":{"American Indian / Alaska Native":41.89,"Asian":0.39,"Black or African American":1.06,"Hispanic":10.64,"Pacific Islander":0.17,"Two or More Races":3.08,"White (non-Hispanic)":42.42},"Pima County, Arizona":{"American Indian / Alaska Native":2.02,"Asian":2.86,"Black or African American":3.29,"Hispanic":36.15,"Pacific Islander":0.14,"Two or More Races":3.93,"White (non-Hispanic)":51.23},"Pinal County, Arizona":{"American Indian / Alaska Native":3.76,"Asian":1.57,"Black or African American":4.86,"Hispanic":29.33,"Pacific Islander":0.35,"Two or More Races":3.87,"White (non-Hispanic)":55.88},"Santa Cruz County, Arizona":{"American Indian / Alaska Native":0.23,"Asian":0.15,"Black or African American":0.2,"Hispanic":82.71,"Pacific Islander":0.19,"Two or More Races":1.14,"White (non-Hispanic)":15.26},"Yavapai County, Arizona":{"American Indian / Alaska Native":1.11,"Asian":1,"Black or African American":0.56,"Hispanic":14.99,"Pacific Islander":0.08,"Two or More Races":3.57,"White (non-Hispanic)":78.31},"Yuma County, Arizona":{"American Indian / Alaska Native":0.9,"Asian":1.08,"Black or African American":1.56,"Hispanic":64.4,"Pacific Islander":0.06,"Two or More Races":2.12,"White (non-Hispanic)":29.61}};
const raceLabels = ["American Indian / Alaska Native","Asian","Black or African American","Hispanic","Pacific Islander","Two or More Races","White (non-Hispanic)"];

const ctx = document.getElementById('pieChart').getContext('2d');
let chart;

function renderChart(values) {
  if (chart) chart.destroy();
  chart = new Chart(ctx, {
    type: 'pie',
    data: {
      labels: raceLabels,
      datasets: [{
        data: values,
        backgroundColor: ['#f94144','#f3722c','#f9c74f','#90be6d','#43aa8b','#577590','#d0cde1']
      }]
    },
    options: {
      responsive: true,
      plugins: {
        legend: {
          position: 'bottom',
          labels: {
            font: {
              size: 14
            },
            boxWidth: 20,
            padding: 15,
            usePointStyle: true,
            pointStyle: 'rectRounded'
          }
        },
        tooltip: {
          callbacks: {
            label: function(context) {
              return context.label + ': ' + context.parsed + '%';
            }
          }
        }
      }
    }
  });
}

document.getElementById('countySelect').addEventListener('change', function() {
  const selected = this.value;
  renderChart(Object.values(raceData[selected]));
});

renderChart(Object.values(raceData['Statewide']));</script>
  </body>
</html>
</html>
